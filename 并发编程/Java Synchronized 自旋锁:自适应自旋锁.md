在了解自旋锁之前需要知道一些cpu的基础知识，在线程阻塞和唤醒的过程中，cpu需要从用户态转成内核态。

用户态：就是运行我们的应用程序。

内核态：就是运行操作系统的程序，操作硬件。

如果频繁的阻塞和唤醒线程，就会消耗cpu的性能，所以就出现了自旋锁。

#### 自旋锁

所谓自旋锁就是我们在锁定对象代码块之后，一般很快就会释放锁，那么其他线程就可以先自旋等待一会，比如使用一个死循环。虽然自旋锁可以解决cpu的状态切换，但是会占用处理器，导致资源浪费。所以又引入了自旋次数的限定，也就是说线程自旋10（默认值）次后就会被挂起来继续使用之前的阻塞和唤醒。

#### 自适应自旋锁

在自旋锁中如果自旋了10次没拿到锁，只要再自旋一次就能拿到了，但是程序没有后悔药，线程又被挂起来了，就会造成更多资源浪费。所以出现了自适应自旋锁，就是把自旋成功的线程增加自旋次数，那些少成功的就会减少，甚至不再自旋。

